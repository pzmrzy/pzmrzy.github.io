<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name ="viewport" content ="width=device-width,initial-scale=1">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>pzmrzy | Leetcode Report</title>
      <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
      <link rel="stylesheet" href="../bootstrap/css/bootstrap-theme.min.css">
      <link rel="stylesheet" href="../css/prism.css">
      <script type="text/javascript" src="../bootstrap/js/jquery.js"></script>
      <script type="text/javascript" src="../bootstrap/js/bootstrap.min.js"></script>
      <script type="text/javascript" src="../js/prism.js"></script>
    </head>
    <body>
			<div>
				<nav class="navbar navbar-inverse navbar-fixed-top">
					<div class="container">
						<div class="navbar-header">
							<div class="nav navbar-nav"><li><a href="../index.html" id="viewall">Home</a></li></div>
							<div class="nav navbar-nav"><li><a href="../leet.html" id="viewall">Leetcode</a></li></div>
						</div>
					</div>
				</nav>
			</div>
      <br/><br/>
      <div class="container main-container">
        <h3 align = 'middle'>Range Sum Query 2D - Mutable</h3>
        <div ng-app="app">
  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div class="row">
          <div class="col-md-12">
            <div class="question-content">
              <p>Given a 2D matrix matrix, find the sum of the elements inside the rectangle defined by its upper left corner (row1, col1) and lower right corner (row2, col2).</p>

<b>Report:</b><br />
<pre>
modify the matrix to partial sum for each row.
when update, update the cell after the col
when sum, get sum for each row by partial sum
</pre>
<b>Code:</b><br />
<pre>
  <code class="language-python">
    class NumMatrix(object):

        def __init__(self, matrix):
            """
            :type matrix: List[List[int]]
            """
            for row in matrix:
                for col in range(1, len(row)):
                    row[col] += row[col - 1]
            self.matrix = matrix

        def update(self, row, col, val):
            """
            :type row: int
            :type col: int
            :type val: int
            :rtype: void
            """
            tmp = self.matrix[row][col]
            if col != 0:
                tmp -= self.matrix[row][col - 1]
            dif = tmp - val
            for i in range(col, len(self.matrix[0])):
                self.matrix[row][i] -= dif

        def sumRegion(self, row1, col1, row2, col2):
            """
            :type row1: int
            :type col1: int
            :type row2: int
            :type col2: int
            :rtype: int
            """
            res = 0
            for x in range(row1, row2 + 1):
                res += self.matrix[x][col2]
                if col1 != 0:
                    res -= self.matrix[x][col1 - 1]
            return res


    # Your NumMatrix object will be instantiated and called as such:
    # obj = NumMatrix(matrix)
    # obj.update(row,col,val)
    # param_2 = obj.sumRegion(row1,col1,row2,col2)
  </code>
</pre>
</p>
</p></div></div></div></div></div></div>
    </body>
</html>
