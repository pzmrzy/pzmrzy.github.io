<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name ="viewport" content ="width=device-width,initial-scale=1">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>pzmrzy | Leetcode Report</title>
      <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
      <link rel="stylesheet" href="../bootstrap/css/bootstrap-theme.min.css">
      <link rel="stylesheet" href="../css/prism.css">
      <script type="text/javascript" src="../bootstrap/js/jquery.js"></script>
      <script type="text/javascript" src="../bootstrap/js/bootstrap.min.js"></script>
      <script type="text/javascript" src="../js/prism.js"></script>
    </head>
    <body>
			<div>
				<nav class="navbar navbar-inverse navbar-fixed-top">
					<div class="container">
						<div class="navbar-header">
							<div class="nav navbar-nav"><li><a href="../index.html" id="viewall">Home</a></li></div>
							<div class="nav navbar-nav"><li><a href="../leet.html" id="viewall">Leetcode</a></li></div>
						</div>
					</div>
				</nav>
			</div>
      <br/><br/>
      <div class="container main-container">
        <h3 align = 'middle'>Insert Delete GetRandom O(1)</h3>
        <div ng-app="app">
  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <div class="row">
          <div class="col-md-12">
            <div class="question-content">
              <p>Design a data structure that supports all following operations in average O(1) time.<br/>
insert(val): Inserts an item val to the set if not already present.<br/>
remove(val): Removes an item val from the set if present.<br/>
getRandom: Returns a random element from current set of elements. Each element must have the same probability of being returned.</p>

<b>Report:</b><br />
<pre>
use a list store the data, and use dictionary store their position
insert: just put the number at the end
remove: find the position, use the element at end of the list to cover it, and update the position. then pop the position of delete number, pop then last number of queue.
</pre>
<b>Code:</b><br />
<pre>
  <code class="language-python">
    class RandomizedSet(object):

        def __init__(self):
            """
            Initialize your data structure here.
            """
            self.num, self.pos = [], {}

        def insert(self, val):
            """
            Inserts a value to the set. Returns true if the set did not already contain the specified element.
            :type val: int
            :rtype: bool
            """
            if val not in self.pos:
                self.num.append(val)
                self.pos[val] = len(self.num) - 1
                return True
            return False


        def remove(self, val):
            """
            Removes a value from the set. Returns true if the set contained the specified element.
            :type val: int
            :rtype: bool
            """
            if val in self.pos:
                last, ind = self.num[-1], self.pos[val]
                self.num[ind], self.pos[last] = last, ind
                self.num.pop()
                self.pos.pop(val, 0)
                return True
            return False

        def getRandom(self):
            """
            Get a random element from the set.
            :rtype: int
            """
            return self.num[random.randint(0, len(self.num) - 1)]


    # Your RandomizedSet object will be instantiated and called as such:
    # obj = RandomizedSet()
    # param_1 = obj.insert(val)
    # param_2 = obj.remove(val)
    # param_3 = obj.getRandom()
  </code>
</pre>
</p>
</p></div></div></div></div></div></div>
    </body>
</html>
